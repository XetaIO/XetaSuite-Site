---
title: Configuration .env
description: Guide de configuration des variables d'environnement pour XetaSuite.
---

import { Aside, Tabs, TabItem } from '@astrojs/starlight/components';

## Variables Backend (Laravel)

### Application

```bash
APP_NAME=XetaSuite
APP_ENV=local  # local, staging, production
APP_KEY=       # Généré avec php artisan key:generate
APP_DEBUG=true # false en production
APP_URL=https://api.xetasuite.test # URL Backend
```

### Base de données

```bash
DB_CONNECTION=pgsql
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=xetasuite
DB_USERNAME=postgres
DB_PASSWORD=secret
```

<Aside type="caution">
  XetaSuite supporte **uniquement PostgreSQL** (version 18+). MySQL/MariaDB ne sont pas supportés.
</Aside>

### Authentification Sanctum

```bash
# Domaines autorisés pour l'authentification SPA
SANCTUM_STATEFUL_DOMAINS=xetasuite.test

# Domaine du cookie de session
SESSION_DOMAIN=.xetasuite.test

# Driver de session
SESSION_DRIVER=database

# Cookies sécurisés
SESSION_SAME_SITE=none
SESSION_SECURE_COOKIE=true
```

### CORS

```bash
# URL du frontend (pour les headers CORS)
SPA_URL=http://xetasuite.test
```

### Queue & Cache

```bash
QUEUE_CONNECTION=redis    # sync, database, redis
CACHE_DRIVER=redis        # file, database, redis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379
```

### Mail

```bash
MAIL_MAILER=smtp
MAIL_HOST=mailpit
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="noreply@xetasuite.com"
MAIL_FROM_NAME="${APP_NAME}"
```

## Variables Frontend (React)

### API

```bash
# Vide pour utiliser le proxy Vite (développement)
VITE_API_URL=

# URL directe en production
VITE_API_URL=https://api.xetasuite.com
```

## Configuration Production

<Tabs>
  <TabItem label="Backend">
    ```bash
    APP_ENV=production
    APP_DEBUG=false

    # Domaines de production
    SANCTUM_STATEFUL_DOMAINS=xetasuite.com
    SESSION_DOMAIN=.xetasuite.com
    FRONTEND_URL=https://xetasuite.com

    # Drivers recommandés
    QUEUE_CONNECTION=redis
    CACHE_DRIVER=redis
    SESSION_DRIVER=database
    ```
  </TabItem>
  <TabItem label="Frontend">
    ```bash
    VITE_API_URL=https://api.xetasuite.com
    ```
  </TabItem>
</Tabs>

## Notes importantes

<Aside type="tip">
  Le `SESSION_DOMAIN` doit commencer par un point (`.xetasuite.com`) pour permettre le partage des cookies entre sous-domaines.
</Aside>

<Aside type="caution">
  Ne jamais commiter votre fichier `.env` dans le contrôle de version. Utilisez `.env.example` comme modèle.
</Aside>
