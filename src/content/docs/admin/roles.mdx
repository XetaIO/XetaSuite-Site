---
title: Gestion des rôles
description: Guide pour créer et gérer les rôles dans XetaSuite.
---

import { Aside } from '@astrojs/starlight/components';

Les rôles sont **scopés par site** grâce à Spatie Laravel-Permission avec le mode teams.

## Rôles par défaut

| Rôle | Description |
|------|-------------|
| `admin` | Accès complet au site |
| `manager` | Gestion des opérations |
| `technician` | Interventions techniques |
| `user` | Consultation uniquement |

## Créer un rôle

### Via l'interface

1. Accédez à **Administration** → **Rôles**
2. Cliquez sur **Nouveau rôle**
3. Nommez le rôle et sélectionnez les permissions
4. Enregistrez

### Via l'API

```http
POST /api/v1/roles
```

```json
{
    "name": "supervisor",
    "permissions": [
        "material.viewAny",
        "material.view",
        "maintenance.viewAny",
        "maintenance.view",
        "maintenance.update",
        "incident.viewAny",
        "incident.view",
        "incident.update"
    ]
}
```

<Aside type="caution">
  Les rôles sont créés dans le contexte du site actuel. Changez de site pour créer un rôle sur un autre site.
</Aside>

## Modifier un rôle

```http
PATCH /api/v1/roles/{id}
```

```json
{
    "name": "supervisor",
    "permissions": [
        "material.viewAny",
        "material.view",
        "material.update",
        "maintenance.*"
    ]
}
```

## Permissions par module

### Matériels
- `material.viewAny`, `material.view`, `material.create`, `material.update`, `material.delete`

### Zones
- `zone.viewAny`, `zone.view`, `zone.create`, `zone.update`, `zone.delete`

### Maintenances
- `maintenance.viewAny`, `maintenance.view`, `maintenance.create`, `maintenance.update`, `maintenance.delete`

### Incidents
- `incident.viewAny`, `incident.view`, `incident.create`, `incident.update`, `incident.delete`

### Nettoyages
- `cleaning.viewAny`, `cleaning.view`, `cleaning.create`, `cleaning.update`, `cleaning.delete`

### Inventaire
- `item.viewAny`, `item.view`, `item.create`, `item.update`, `item.delete`
- `item-movement.viewAny`, `item-movement.view`, `item-movement.create`, `item-movement.update`, `item-movement.delete`

### Fournisseurs (HQ uniquement)
- `company.viewAny`, `company.view`, `company.create`, `company.update`, `company.delete`

### Utilisateurs
- `user.viewAny`, `user.view`, `user.create`, `user.update`, `user.delete`

## Supprimer un rôle

```http
DELETE /api/v1/roles/{id}
```

<Aside type="note">
  Un rôle ne peut être supprimé que s'il n'est assigné à aucun utilisateur.
</Aside>

## Prochaines étapes

- [Gestion des permissions](/XetaSuite-Site/admin/permissions/) - Permissions détaillées
- [Gestion des utilisateurs](/XetaSuite-Site/admin/users/) - Assigner des rôles
